<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ghc.project.expert.mapper.ExpertMapper">
	<insert id="addExpert">
		insert into ircs.tb_expert(
		<if test="expertName != null and expertName != 0">user_id,</if>
		<if test="expertSex != null and expertSex != 0">expert_sex,</if>
		<if test="professional != null and professional != 0">professional,</if>
		<if test="idCard != null and idCard != 0">id_card,</if>
		<if test="work != null and work != 0">work,</if>
		<if test="duty != null and duty != 0">duty,</if>
		<if test="education != null and education != 0">education,</if>
		<if test="title != null and title != 0">title,</if>
		<if test="location != null and location != 0">location,</if>
		<if test="researchResult != null and researchResult != 0">research_result,</if>
		<if test="mobile != null and mobile != 0">mobile,</if>
		<if test="email != null and email != 0">email,</if>
		certification,
		status,
		user_id,
		add_time
		)
		values (
		<if test="expertName != null and expertName != 0">#{userId},</if>
		<if test="expertSex != null and expertSex != 0">#{expertSex},</if>
		<if test="professional != null and professional != 0">#{professional},</if>
		<if test="idCard != null and idCard != 0">#{idCard},</if>
		<if test="work != null and work != 0">#{work},</if>
		<if test="duty != null and duty != 0">#{duty},</if>
		<if test="education != null and education != 0">#{education},</if>
		<if test="title != null and title != 0">#{title},</if>
		<if test="location != null and location != 0">#{location},</if>
		<if test="researchResult != null and researchResult != 0">#{researchResult},</if>
		<if test="mobile != null and mobile != 0">#{mobile},</if>
		<if test="email != null and email != 0">#{email},</if>
		#{certification},
		#{status},
		#{userId},
		#{addTime}
		)
	</insert>

	<select id="selectExpertList" resultType="com.ghc.project.expert.domain.Expert">
		select * from ircs.tb_expert
	</select>

	<select id="checkIcdExisted" resultType="java.lang.Integer">
		select count(*) from ircs.tb_expert where id_card = #{0}
	</select>

	<select id="checkEmailExisted" resultType="java.lang.Integer">
		select * from ircs.tb_expert where email = #{0}
	</select>


	<update id="updateExpert" parameterType="com.ghc.project.expert.domain.Expert">
		update tb_expert
		<trim prefix="SET" suffixOverrides=",">
			<if test="expertName != null  and expertName != ''">expert_name = #{expertName},</if>
			<if test="expertSex != null  and expertSex != ''">expert_sex = #{expertSex},</if>
			<if test="professional != null  and professional != ''">professional = #{professional},</if>
			<if test="idCard != null  and idCard != ''">id_card = #{idCard},</if>
			<if test="work != null  and work != ''">work = #{work},</if>
			<if test="duty != null  and duty != ''">duty = #{duty},</if>
			<if test="education != null  and education != ''">education = #{education},</if>
			<if test="title != null  and title != ''">title = #{title},</if>
			<if test="location != null  and location != ''">location = #{location},</if>
			<if test="researchResult != null  and researchResult != ''">research_result = #{researchResult},</if>
			<if test="mobile != null  and mobile != ''">mobile = #{mobile},</if>
			<if test="email != null  and email != ''">email = #{email},</if>
			<if test="certification != null  and certification != ''">certification = #{certification},</if>
			<if test="status != null  and status != ''">status = #{status},</if>
			<if test="userId != null ">user_id = #{userId},</if>
			<if test="addTime != null ">add_time = #{addTime},</if>
		</trim>
		where expert_id = #{expertId}
	</update>

	<delete id="deleteExpertById" parameterType="Long">
        delete from tb_expert where expert_id = #{expertId}
    </delete>

	<delete id="deleteExpertByIds" parameterType="String">
		delete from tb_expert where expert_id in
		<foreach item="expertId" collection="array" open="(" separator="," close=")">
			#{expertId}
		</foreach>
	</delete>


</mapper> 